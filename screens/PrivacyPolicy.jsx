import React, { useState } from "react";
import { ScrollView } from "react-native";
import { List, Text, Appbar } from "react-native-paper";
import Title from "../components/Title";

const policySections = [
  {
    key: "info",
    title: "1. المعلومات التي نجمعها",
    content: `
عند استخدامك لتطبيق عالبازار، قد نقوم بجمع المعلومات التالية:
📌 المعلومات التي تقدمها لنا مباشرة:
معلومات الحساب: مثل الاسم، رقم الهاتف، البريد الإلكتروني، وكلمة المرور عند التسجيل.
تفاصيل الإعلانات: عند نشر إعلان، نقوم بتخزين محتوى الإعلان والصور والموقع الجغرافي الذي تحدده.
التواصل مع الدعم الفني: أي معلومات تقدمها عند التواصل معنا لحل مشكلة أو تقديم استفسار.
📌 المعلومات التي نجمعها تلقائيًا:
بيانات الجهاز: مثل نوع الجهاز، نظام التشغيل، عنوان IP، وإعدادات المتصفح أو التطبيق.
سجل الاستخدام: بيانات حول كيفية تفاعلك مع التطبيق، مثل الصفحات التي تزورها والإعلانات التي تتفاعل معها.
الموقع الجغرافي (إذا وافقت على ذلك): يساعدنا في تحسين تجربة الاستخدام وعرض الإعلانات ذات الصلة بموقعك.`,
  },
  {
    key: "usage",
    title: "2. كيف نستخدم معلوماتك؟",
    content: `
نحن لا نبيع أو نؤجر بياناتك الشخصية لأي طرف ثالث. ومع ذلك، قد نشارك بياناتك في الحالات التالية:
مع مقدمي الخدمات الموثوق بهم الذين يساعدوننا في تشغيل التطبيق، مثل استضافة البيانات وتحليل الأداء.
عند الامتثال للقوانين، إذا طُلب منا قانونيًا تقديم معلوماتك إلى الجهات الحكومية أو السلطات القانونية.
في حالة الاندماج أو الاستحواذ، إذا تم دمج أو بيع تطبيق عالبازار لشركة أخرى، فقد يتم نقل بياناتك وفقًا لسياسة الخصوصية الجديدة.
      `,
  },
  {
    key: "sharing",
    title: "3. هل نشارك معلوماتك مع جهات خارجية؟",
    content: ` إدارة حسابك والإعلانات التي تنشرها لضمان تجربة سلسة وآمنة
✅ تخصيص الإعلانات والمحتوى بناءً على اهتماماتك وسلوكك في التطبيق.
✅ تحليل وتحسين التطبيق من خلال فهم كيفية استخدامك له، مما يساعدنا على تطوير ميزات جديدة.
✅ ضمان الأمان ومنع الاحتيال عبر مراقبة النشاطات المشبوهة وحماية بيانات المستخدمين.
✅ التواصل معك بشأن الإعلانات، التحديثات، أو الدعم الفني عند الحاجة.`,
  },
  {
    key: "protection",
    title: "4. كيف نحمي بياناتك؟",
    content: `نحن نتخذ تدابير أمان متقدمة لحماية بياناتك، بما في ذلك:
🔐 تشفير البيانات لضمان عدم اختراقها أو الوصول إليها دون إذن.
🔐 أنظمة أمان متطورة لحماية التطبيق من الهجمات الإلكترونية والاحتيال.
🔐 إمكانية التحكم في خصوصيتك من خلال إعدادات الحساب، حيث يمكنك تعديل أو حذف بياناتك في أي وقت.`,
  },
  {
    key: "rights",
    title: "5. حقوقك فيما يخص بياناتك",
    content: `✔ الوصول إلى بياناتك: يمكنك طلب نسخة من بياناتك المخزنة لدينا.
✔ تعديل معلوماتك: يمكنك تحديث بيانات حسابك أو إعلانك في أي وقت.
✔ حذف حسابك: إذا لم تعد ترغب في استخدام التطبيق، يمكنك طلب حذف بياناتك نهائيًا.
✔ إدارة الإشعارات: لديك الحرية في تشغيل أو إيقاف الإشعارات من إعدادات التطبيق.`,
  },
  {
    key: "cookies",
    title: "6. استخدام ملفات تعريف الارتباط (Cookies)",
    content: `نستخدم ملفات تعريف الارتباط (Cookies) لتحسين تجربة المستخدم وتحليل أداء التطبيق. يمكنك التحكم في إعدادات الكوكيز أو تعطيلها من خلال إعدادات جهازك.`,
  },
  {
    key: "updates",
    title: "7. التغييرات في سياسة الخصوصية",
    content: `قد نقوم بتحديث سياسة الخصوصية من وقت لآخر لمواكبة التغييرات التقنية والقانونية. سيتم إشعارك بأي تغييرات رئيسية من خلال التطبيق أو البريد الإلكتروني.`,
  },
];

const PrivacyPolicy = () => {
  const [expanded, setExpanded] = useState({});

  const toggleExpand = (key) => {
    setExpanded((prev) => ({ ...prev, [key]: !prev[key] }));
  };

  return (
    <>
      <Title title={"سياسة الخصوصية"} />

      <ScrollView contentContainerStyle={{ padding: 16 }}>
        <List.Section>
          {policySections.map(({ key, title, content }) => (
            <List.Accordion
              key={key}
              title={title}
              expanded={expanded[key]}
              onPress={() => toggleExpand(key)}
              titleStyle={{ fontFamily: "AvenirArabic-Heavy" }}
            >
              <Text style={{ padding: 10, fontFamily: "AvenirArabic-Medium" }}>
                {content}
              </Text>
            </List.Accordion>
          ))}
        </List.Section>
      </ScrollView>
    </>
  );
};

export default PrivacyPolicy;
